{% macro wysiwyg_editor(name, content='', value='') %}

  {# SECURITY NOTE: it seems to be that it is possible to bypass sanitation. However, AngularJS routing seems to inhibit the
                    browser from loading javascript after the layout renders. #}

  <textarea id="tinyEditor" name="{{ name }}" style="overflow: visible;">
    {{ content }}
  </textarea>

{% endmacro %}


{% macro wysiwyg_script() %}

  <!-- WYSIWYG Editor -->
  <script src="https://cdn.tiny.cloud/1/ropl0dvkzt3bbjqb9e8dk06ff578n2fkfvgun5yxa1zgb234/tinymce/5/tinymce.min.js"
          referrerpolicy="origin"></script>

  <script>
    tinymce.init({
      selector: '#tinyEditor',
      height: 500,
      max_height: 750,
      width: '100%',
      resize: true,
      mobile: {
        theme: 'mobile',
        toolbar: ['undo', 'bold', 'italic', 'styleselect']
      }
    })
  </script>

{% endmacro %}
