{% extends "layout.html" %}

{% block title %}
  Viewing Donation Detail
{% endblock %}

{% block body %}
<div class="section">
  <div class="wrapper">
    <div class="row">
      <h2>Donation Details</h2>

      <p>Donated to <a href="{{ donation.campaign.url }}">{{ donation.campaign.title }}</a>
        by <a href="{{ donation.campaign.ministry.url }}">{{ donation.campaign.ministry.name }}</a>
      </p>

      {% if hasattr(donation.payment, 'card_number') %}
        <h5>Payment Card Info:</h5>
        <div class="col s12 input-field">
          <input type="text" id="payment" value="{{ donation.payment.first_name }} {{ donation.payment.last_name }}"
                 disabled>
          <label for="payment">First/Last Name</label>
        </div>
        <div class="col s12 input-field">
          <input type="text" id="cc" value="****-****-****-{{ str(donation.payment.card_number)[-5:-1] }}" disabled>
          <label for="cc">Credit Card #</label>
        </div>
      {% endif %}

      <h5>Other Details:</h5>
      <div class="col s12 input-field">
        <input type="text" id="tx_id" value="{{ donation.id }}" disabled>
        <label for="tx_id">Transaction ID</label>
      </div>
      <div class="col s12 input-field">
        <input type="text" id="amount" value="{{ donation.amount }}" disabled>
        <label for="amount">Donation Amount</label>
      </div>
      <div class="col s12 input-field">
        <input type="text" id="confirmation" value="{{ donation.payment.confirmation }}" disabled>
        <label for="confirmation">Confirmation ID</label>
      </div>
      <div class="col s12 input-field">
        <input type="text" id="date" value="{{ donation.payment.payment_date.strftime('%m/%d/%Y') }}" disabled>
        <label for="date">Payment Date</label>
      </div>

    </div><!-- /.row -->
  </div><!-- /.wrapper -->
</div><!-- /.section -->
{% endblock %}